# Proposal: 更新录音窗口UI设计

## Why

当前的录音悬浮窗设计过于简单（圆形悬浮球），无法满足用户对实时反馈和操作控制的需求。用户需要：
- 更清晰的录音状态指示（录音中 vs 结果展示）
- 实时查看识别出的文字内容
- 便捷的文本操作功能（复制、插入、清空）
- 手动控制窗口关闭，而非自动隐藏

此外，原设计的长按快捷键交互不够直观，单次按键触发更符合用户习惯。

## What Changes

### **BREAKING** 快捷键交互模式变更
- 从"长按快捷键持续录音"改为"单击快捷键切换录音状态"
- 按一次快捷键 → 显示窗口并开始录音
- 再按一次快捷键 → 停止录音并显示结果
- 移除自动隐藏逻辑

### UI 设计完全重构
**状态 1 - 录音中窗口**:
- 横向胶囊型窗口 (替代圆形悬浮球)
- 左侧：麦克风图标
- 中间：实时声波动画
- 右侧：关闭按钮 (×)
- 尺寸：约 300x60px

**状态 2 - 结果展示窗口**:
- 扩展窗口显示识别文字
- 顶部：识别的文本内容 (只读)
- 底部操作栏：
  - 清空按钮 (垃圾桶图标)
  - 复制按钮 (复制图标)
  - 插入按钮 (插入图标 + 文字)
- 尺寸：动态扩展，最大 400x200px

### 新增功能
- 手动关闭窗口（点击 × 按钮）
- 文本复制到剪贴板
- 文本插入到当前输入框
- 清空文本内容

### 移除功能
- 自动隐藏倒计时
- 输入框光标位置检测（后续版本再考虑）
- macOS Accessibility API 相关代码

## Impact

### 受影响的 Specs
- `audio-recording` (修改) - 更新录音窗口 UI 规范
- `global-shortcut` (修改) - 更新快捷键交互逻辑

### 受影响的代码
- `src/windows/recording/RecordingFloat.tsx` (重写) - UI 组件
- `src-tauri/src/shortcut.rs` (修改) - 快捷键事件处理
- `src-tauri/src/accessibility.rs` (移除) - 删除输入框检测代码
- `src-tauri/src/lib.rs` (修改) - 更新窗口配置
- `src/stores/recordingStore.ts` (可能修改) - 状态管理

### 依赖
- **Tauri Clipboard API** - 复制文本到剪贴板
- **Tauri 文本插入 API** - 将文本插入到活动窗口

### UI 参考
用户提供的设计稿将作为 UI 实现的标准，要求 1:1 复刻。
